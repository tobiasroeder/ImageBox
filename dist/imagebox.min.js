// ======================================================
// ImageBox v1.2.0
//
// Creative Commons Attribution 4.0 International License
// https://tobiasroeder.github.io/imagebox/license
//
// https://github.com/tobiasroeder/imagebox
// Copyright 2020 ImageBox
//
// ======================================================
var imagebox={init:function(){window.onkeydown=function(a){if(document.body.classList.contains("imagebox"))switch(a.code){case "Escape":imagebox.close()}};imagebox.finder()},finder:function(){var a=0,b=0;document.querySelectorAll("img[data-imagebox]").forEach(function(c){c.setAttribute("onclick","imagebox.open(this)");"gallery"==c.dataset.imagebox&&c.setAttribute("data-imagebox-index",b++);a++});return b},options:function(a){a.info&&console.log("ImageBox v1.2.0\nhttp://tobiasroeder.github.io/imagebox")},
open:function(a){if(a)var b=a.getAttribute("data-imagebox");if("image"==b||""==b||"gallery"==b){var c=null;document.body.classList.add("imagebox");null==document.querySelector("#imagebox")&&(c=document.createElement("div"),c.setAttribute("id","imagebox"),c.setAttribute("class","ib-remove"),document.body.appendChild(c));var c=null!=a.getAttribute("data-imagebox-src")?a.getAttribute("data-imagebox-src"):a.getAttribute("src"),d=document.querySelector("#imagebox");document.querySelector(".ib-caption");
var e="",f="",g="";if("gallery"==b){var b=Number(a.getAttribute("data-imagebox-index")),f=imagebox.finder()-1,h=e="";0==b&&(e="disabled");b==f&&(h="disabled");e='<div class="ib-control"><div class="ib-control-left" onclick="imagebox.prev('+b+')"'+e+'></div><div class="ib-control-right" onclick="imagebox.next('+b+')"'+h+"></div></div>";f='<div class="ib-indexes"><span class="ib-current-index">'+(b+1)+'</span> / <span class="ib-last-index">'+(f+1)+"</span></div>"}else g=' onclick="imagebox.close(this)"';
d.innerHTML='<div class="ib-loading"></div><div class="ib-content"'+g+'><div class="ib-topbar">'+f+'<div class="ib-buttons"><div class="ib-close ib-btn" onclick="imagebox.close()"></div></div></div>'+e+'<div class="ib-image-wrapper"><img src="'+c+'" class="ib-image"></div><div class="ib-caption">Lorem Ipsum</div></div>';imagebox.caption(a);d.style.opacity=0;d.style.display="block";(function k(){var a=parseFloat(d.style.opacity);1<(a+=.1)||(d.style.opacity=a,requestAnimationFrame(k))})();document.querySelector(".ib-image").onload=
function(){document.querySelector(".ib-loading").style.opacity="0";document.querySelector(".ib-image-wrapper").style.opacity="1"}}},close:function(){document.body.classList.remove("imagebox");var a=document.querySelector("#imagebox");a.classList.remove("ib-remove");a.style.opacity=1;(function c(){var d=parseFloat(a.style.opacity);0>(d-=.1)?a.style.display="none":(a.style.opacity=d,requestAnimationFrame(c))})();document.querySelector(".ib-image").onload=function(){document.querySelector(".ib-loading").style.opacity=
"1";document.querySelector(".ib-image").style.opacity="0"}},"switch":function(a,b,c){var d=document.querySelector(".ib-loading"),e=document.querySelector(".ib-image"),f=imagebox.finder()-1,g=document.querySelector('img[data-imagebox-index="'+a+'"]'),h=document.querySelector(".ib-control-left"),l=document.querySelector(".ib-control-right"),k=document.querySelector(".ib-current-index");document.querySelector(".ib-description");var m;d.style.opacity="1";e.style.opacity="0";m=void 0==g.dataset.imageboxSrc?
g.src:g.dataset.imageboxSrc;"prev"==c&&(1==b&&h.setAttribute("disabled",""),l.removeAttribute("disabled"));"next"==c&&(b==f-1&&l.setAttribute("disabled",""),h.removeAttribute("disabled"));imagebox.caption(g);e.src=m;h.setAttribute("onclick","imagebox.prev("+a+")");l.setAttribute("onclick","imagebox.next("+a+")");k.innerHTML=a+1;e.onload=function(){d.style.opacity="0";e.style.opacity="1"}},prev:function(a){var b=0>=a?a=0:a-1;imagebox["switch"](b,a,"prev")},next:function(a){var b=imagebox.finder()-
1,b=a>=b?a=b:a+1;imagebox["switch"](b,a,"next")},caption:function(a){a=a.getAttribute("data-imagebox-caption");var b=document.querySelector(".ib-caption");(b.textContent=a)?(-1<a.indexOf("{loc}")?(b.classList.add("location"),a=a.replace(/{loc}/,""),b.textContent=a):b.classList.remove("location"),b.style.display="block"):b.style.display="none"}};window.onload=imagebox.init();
