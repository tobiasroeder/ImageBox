// ======================================================
// ImageBox IE v1.2.0
//
// Creative Commons Attribution 4.0 International License
// https://tobiasroeder.github.io/imagebox/license
//
// https://github.com/tobiasroeder/imagebox
// Copyright 2020 ImageBox
//
// ======================================================
function imageboxInit(){window.onkeydown=function(a){if(document.body.classList.contains("imagebox"))switch(a.key){case "Esc":imageboxClose()}};imageboxFinder()}function imageboxFinder(){for(var a=document.querySelectorAll("img[data-imagebox]"),b=0,d=0,c=0;c<a.length;c++)a[c].setAttribute("onclick","imageboxOpen(this)"),"gallery"==a[c].dataset.imagebox&&a[c].setAttribute("data-imagebox-index",d++),b++;return d}
function imageboxOpen(a){if(a)var b=a.getAttribute("data-imagebox");if("image"==b||""==b||"gallery"==b){var d=null;document.body.classList.add("imagebox");null==document.querySelector("#imagebox")&&(d=document.createElement("div"),d.setAttribute("id","imagebox"),d.setAttribute("class","ib-remove"),document.body.appendChild(d));var d=null!=a.getAttribute("data-imagebox-src")?a.getAttribute("data-imagebox-src"):a.getAttribute("src"),c=document.querySelector("#imagebox");document.querySelector(".ib-caption");
var e="",f="",g="";if("gallery"==b){var b=Number(a.getAttribute("data-imagebox-index")),f=imageboxFinder()-1,h=e="";0==b&&(e="disabled");b==f&&(h="disabled");e='<div class="ib-control"><div class="ib-control-left" onclick="imageboxPrev('+b+')"'+e+'></div><div class="ib-control-right" onclick="imageboxNext('+b+')"'+h+"></div></div>";f='<div class="ib-indexes"><span class="ib-current-index">'+(b+1)+'</span> / <span class="ib-last-index">'+(f+1)+"</span></div>"}else g=' onclick="imageboxClose(this)"';
c.innerHTML='<div class="ib-loading"></div><div class="ib-content"'+g+'><div class="ib-topbar">'+f+'<div class="ib-buttons"><div class="ib-close ib-btn" onclick="imageboxClose()"></div></div></div>'+e+'<div class="ib-image-wrapper"><img src="'+d+'" class="ib-image"></div><div class="ib-caption">Lorem Ipsum</div></div>';imageboxCaption(a);c.style.opacity=0;c.style.display="block";(function k(){var a=parseFloat(c.style.opacity);1<(a+=.1)||(c.style.opacity=a,requestAnimationFrame(k))})();document.querySelector(".ib-image").onload=
function(){document.querySelector(".ib-loading").style.opacity="0";document.querySelector(".ib-image-wrapper").style.opacity="1"}}}
function imageboxClose(){document.body.classList.remove("imagebox");var a=document.querySelector("#imagebox");a.classList.remove("ib-remove");a.style.opacity=1;(function d(){var c=parseFloat(a.style.opacity);0>(c-=.1)?a.style.display="none":(a.style.opacity=c,requestAnimationFrame(d))})();document.querySelector(".ib-image").onload=function(){document.querySelector(".ib-loading").style.opacity="1";document.querySelector(".ib-image").style.opacity="0"}}
function imageboxSwitch(a,b,d){var c=document.querySelector(".ib-loading"),e=document.querySelector(".ib-image"),f=imageboxFinder()-1,g=document.querySelector('img[data-imagebox-index="'+a+'"]'),h=document.querySelector(".ib-control-left"),l=document.querySelector(".ib-control-right"),k=document.querySelector(".ib-current-index");document.querySelector(".ib-description");var m;c.style.opacity="1";e.style.opacity="0";m=void 0==g.dataset.imageboxSrc?g.src:g.dataset.imageboxSrc;"prev"==d&&(1==b&&h.setAttribute("disabled",
""),l.removeAttribute("disabled"));"next"==d&&(b==f-1&&l.setAttribute("disabled",""),h.removeAttribute("disabled"));imageboxCaption(g);e.src=m;h.setAttribute("onclick","imageboxPrev("+a+")");l.setAttribute("onclick","imageboxNext("+a+")");k.innerHTML=a+1;e.onload=function(){c.style.opacity="0";e.style.opacity="1"}}function imageboxPrev(a){var b=0>=a?a=0:a-1;imageboxSwitch(b,a,"prev")}function imageboxNext(a){var b=imageboxFinder()-1,b=a>=b?a=b:a+1;imageboxSwitch(b,a,"next")}
function imageboxCaption(a){a=a.getAttribute("data-imagebox-caption");var b=document.querySelector(".ib-caption");(b.textContent=a)?(-1<a.indexOf("{loc}")?(b.classList.add("location"),a=a.replace(/{loc}/,""),b.textContent=a):b.classList.remove("location"),b.style.display="block"):b.style.display="none"}window.onload=imageboxInit();
